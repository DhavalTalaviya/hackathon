{
  "charts": [
    {
      "type": "BarChart",
      "title": "Daily Call Volume in March 2025",
      "sql": "SELECT strftime('%Y-%m-%d', c.date) AS day, COUNT(*) AS call_count FROM calls c WHERE c.date >= '2025-03-01' AND c.date < '2025-04-01' GROUP BY day ORDER BY day",
      "xAxisKey": "day",
      "series": [
        {
          "dataKey": "call_count",
          "name": "Calls"
        }
      ],
      "data": [
        {
          "day": "2025-03-01",
          "call_count": 16
        },
        {
          "day": "2025-03-02",
          "call_count": 17
        },
        {
          "day": "2025-03-03",
          "call_count": 11
        },
        {
          "day": "2025-03-04",
          "call_count": 14
        },
        {
          "day": "2025-03-05",
          "call_count": 15
        },
        {
          "day": "2025-03-06",
          "call_count": 21
        },
        {
          "day": "2025-03-07",
          "call_count": 15
        },
        {
          "day": "2025-03-08",
          "call_count": 12
        },
        {
          "day": "2025-03-09",
          "call_count": 13
        },
        {
          "day": "2025-03-10",
          "call_count": 16
        },
        {
          "day": "2025-03-11",
          "call_count": 12
        },
        {
          "day": "2025-03-12",
          "call_count": 17
        },
        {
          "day": "2025-03-13",
          "call_count": 14
        },
        {
          "day": "2025-03-14",
          "call_count": 13
        },
        {
          "day": "2025-03-15",
          "call_count": 10
        },
        {
          "day": "2025-03-16",
          "call_count": 14
        },
        {
          "day": "2025-03-17",
          "call_count": 12
        },
        {
          "day": "2025-03-18",
          "call_count": 14
        },
        {
          "day": "2025-03-19",
          "call_count": 9
        },
        {
          "day": "2025-03-20",
          "call_count": 10
        },
        {
          "day": "2025-03-21",
          "call_count": 12
        },
        {
          "day": "2025-03-22",
          "call_count": 17
        },
        {
          "day": "2025-03-23",
          "call_count": 12
        },
        {
          "day": "2025-03-24",
          "call_count": 12
        },
        {
          "day": "2025-03-25",
          "call_count": 14
        },
        {
          "day": "2025-03-26",
          "call_count": 13
        },
        {
          "day": "2025-03-27",
          "call_count": 18
        },
        {
          "day": "2025-03-28",
          "call_count": 14
        },
        {
          "day": "2025-03-29",
          "call_count": 17
        },
        {
          "day": "2025-03-30",
          "call_count": 18
        },
        {
          "day": "2025-03-31",
          "call_count": 12
        }
      ]
    },
    {
      "type": "LineChart",
      "title": "Daily Average Call Duration in March 2025 (seconds)",
      "sql": "SELECT strftime('%Y-%m-%d', c.date) AS day, ROUND(AVG(c.duration), 1) AS avg_duration FROM calls c WHERE c.date >= '2025-03-01' AND c.date < '2025-04-01' GROUP BY day ORDER BY day",
      "xAxisKey": "day",
      "series": [
        {
          "dataKey": "avg_duration",
          "name": "Avg Duration (s)"
        }
      ],
      "data": [
        {
          "day": "2025-03-01",
          "avg_duration": 1341.8
        },
        {
          "day": "2025-03-02",
          "avg_duration": 1911
        },
        {
          "day": "2025-03-03",
          "avg_duration": 1802
        },
        {
          "day": "2025-03-04",
          "avg_duration": 2058.6
        },
        {
          "day": "2025-03-05",
          "avg_duration": 1884.3
        },
        {
          "day": "2025-03-06",
          "avg_duration": 1508.1
        },
        {
          "day": "2025-03-07",
          "avg_duration": 1934.1
        },
        {
          "day": "2025-03-08",
          "avg_duration": 1660.3
        },
        {
          "day": "2025-03-09",
          "avg_duration": 1576.8
        },
        {
          "day": "2025-03-10",
          "avg_duration": 1869.6
        },
        {
          "day": "2025-03-11",
          "avg_duration": 1770.3
        },
        {
          "day": "2025-03-12",
          "avg_duration": 1912.5
        },
        {
          "day": "2025-03-13",
          "avg_duration": 1439.3
        },
        {
          "day": "2025-03-14",
          "avg_duration": 1848
        },
        {
          "day": "2025-03-15",
          "avg_duration": 2002
        },
        {
          "day": "2025-03-16",
          "avg_duration": 1710.8
        },
        {
          "day": "2025-03-17",
          "avg_duration": 2136
        },
        {
          "day": "2025-03-18",
          "avg_duration": 1543.6
        },
        {
          "day": "2025-03-19",
          "avg_duration": 2052.4
        },
        {
          "day": "2025-03-20",
          "avg_duration": 1619.3
        },
        {
          "day": "2025-03-21",
          "avg_duration": 1403.1
        },
        {
          "day": "2025-03-22",
          "avg_duration": 1823.9
        },
        {
          "day": "2025-03-23",
          "avg_duration": 2284.8
        },
        {
          "day": "2025-03-24",
          "avg_duration": 1871.5
        },
        {
          "day": "2025-03-25",
          "avg_duration": 1703.1
        },
        {
          "day": "2025-03-26",
          "avg_duration": 1963.3
        },
        {
          "day": "2025-03-27",
          "avg_duration": 1294.1
        },
        {
          "day": "2025-03-28",
          "avg_duration": 2117
        },
        {
          "day": "2025-03-29",
          "avg_duration": 1512.8
        },
        {
          "day": "2025-03-30",
          "avg_duration": 1564.8
        },
        {
          "day": "2025-03-31",
          "avg_duration": 2212.4
        }
      ]
    },
    {
      "type": "PieChart",
      "title": "Call Type Distribution in March 2025",
      "sql": "SELECT c.type AS call_type, COUNT(*) AS volume FROM calls c WHERE c.date >= '2025-03-01' AND c.date < '2025-04-01' GROUP BY c.type ORDER BY volume DESC",
      "nameKey": "call_type",
      "dataKey": "volume",
      "series": [
        {
          "dataKey": "volume",
          "name": "Volume"
        }
      ],
      "data": [
        {
          "call_type": "incoming",
          "volume": 220
        },
        {
          "call_type": "outgoing",
          "volume": 214
        }
      ]
    },
    {
      "type": "ComposedChart",
      "title": "Call Volume vs Avg Duration by Call Type (March 2025)",
      "sql": "SELECT c.type AS call_type, COUNT(*) AS call_count, ROUND(AVG(c.duration), 1) AS avg_duration FROM calls c WHERE c.date >= '2025-03-01' AND c.date < '2025-04-01' GROUP BY c.type ORDER BY call_count DESC",
      "xAxisKey": "call_type",
      "series": [
        {
          "dataKey": "call_count",
          "name": "Call Count",
          "type": "bar"
        },
        {
          "dataKey": "avg_duration",
          "name": "Avg Duration (s)",
          "type": "line"
        }
      ],
      "data": [
        {
          "call_type": "incoming",
          "call_count": 220,
          "avg_duration": 1729.2
        },
        {
          "call_type": "outgoing",
          "call_count": 214,
          "avg_duration": 1802.5
        }
      ]
    },
    {
      "type": "BarChart",
      "title": "Call Volume by Day of Week (March 2025)",
      "sql": "SELECT CASE CAST(strftime('%w', c.date) AS INTEGER) WHEN 0 THEN '7-Sun' WHEN 1 THEN '1-Mon' WHEN 2 THEN '2-Tue' WHEN 3 THEN '3-Wed' WHEN 4 THEN '4-Thu' WHEN 5 THEN '5-Fri' WHEN 6 THEN '6-Sat' END AS weekday, COUNT(*) AS call_count, ROUND(AVG(c.duration), 1) AS avg_duration FROM calls c WHERE c.date >= '2025-03-01' AND c.date < '2025-04-01' GROUP BY weekday ORDER BY weekday",
      "xAxisKey": "weekday",
      "series": [
        {
          "dataKey": "call_count",
          "name": "Call Count"
        }
      ],
      "data": [
        {
          "weekday": "1-Mon",
          "call_count": 63,
          "avg_duration": 1974.2
        },
        {
          "weekday": "2-Tue",
          "call_count": 54,
          "avg_duration": 1768.8
        },
        {
          "weekday": "3-Wed",
          "call_count": 54,
          "avg_duration": 1940.2
        },
        {
          "weekday": "4-Thu",
          "call_count": 63,
          "avg_duration": 1449.3
        },
        {
          "weekday": "5-Fri",
          "call_count": 54,
          "avg_duration": 1842.8
        },
        {
          "weekday": "6-Sat",
          "call_count": 72,
          "avg_duration": 1640.8
        },
        {
          "weekday": "7-Sun",
          "call_count": 74,
          "avg_duration": 1790.8
        }
      ]
    },
    {
      "type": "FunnelChart",
      "title": "Top 5 Callers by Volume (March 2025)",
      "sql": "SELECT c.\"from\" AS caller, COUNT(*) AS volume FROM calls c WHERE c.date >= '2025-03-01' AND c.date < '2025-04-01' GROUP BY c.\"from\" ORDER BY volume DESC LIMIT 5",
      "nameKey": "caller",
      "series": [
        {
          "dataKey": "volume",
          "name": "Calls"
        }
      ],
      "data": [
        {
          "caller": "+1-555-8441",
          "volume": 3
        },
        {
          "caller": "+1-555-9896",
          "volume": 2
        },
        {
          "caller": "+1-555-9561",
          "volume": 2
        },
        {
          "caller": "+1-555-9095",
          "volume": 2
        },
        {
          "caller": "+1-555-8435",
          "volume": 2
        }
      ]
    }
  ],
  "kpis": [
    {
      "title": "Total Calls (Mar 2025)",
      "sql": "SELECT COUNT(*) FROM calls WHERE date >= '2025-03-01' AND date < '2025-04-01'",
      "format": "number",
      "color": "indigo",
      "value": 434
    },
    {
      "title": "Avg Duration (Mar 2025)",
      "sql": "SELECT ROUND(AVG(duration), 1) FROM calls WHERE date >= '2025-03-01' AND date < '2025-04-01'",
      "suffix": "s",
      "format": "number",
      "color": "cyan",
      "value": 1765.3
    },
    {
      "title": "Total Call Minutes",
      "sql": "SELECT ROUND(SUM(duration) / 60.0, 1) FROM calls WHERE date >= '2025-03-01' AND date < '2025-04-01'",
      "suffix": " min",
      "format": "number",
      "color": "emerald",
      "value": 12769
    },
    {
      "title": "Unique Callers",
      "sql": "SELECT COUNT(DISTINCT \"from\") FROM calls WHERE date >= '2025-03-01' AND date < '2025-04-01'",
      "format": "number",
      "color": "amber",
      "value": 425
    }
  ]
}